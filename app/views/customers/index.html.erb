<div class="container">
  <h2>顧客一覧</h2><hr>
    <ul class="list-inline text-right">
      <li>
        <span class="glyphicon glyphicon-plus"></span>
        <%= link_to "顧客を登録する", new_customer_path %>
      </li>
    </ul>
    <div class="table-responsive">
      <table class="table table-striped table-bordered table-hover">
        <tr class="success">
          <!-- tメソッドでja.ymlからモデルの属性名を取得 -->
          <th><%= sort_link(@q, :id) %></th>
          <th><%= sort_link(@q, :customer_name) %></th>
          <th><%= sort_link(@q, :business) %></th>
          <th><%= sort_link(@q, :phone_number) %></th>
          <th><%= sort_link(@q, :fax_number) %></th>
          <th><%= sort_link(@q, :stores_count, "店舗数") %></th>
        </tr>
        <!-- 件数が０件の時は「なし」を表示する -->
        <% if @customer.empty? %>
          <tr>
            <td colspan="6">なし</td>
          </tr>
        <% else %>
          <% @customer.each do |customer| %>
            <tr>
              <td><%= link_to customer.id, customer_path(customer) %></td>
              <td><%= link_to customer.customer_name, customer_path(customer) %></td>
              <td><%= customer.business %></td>
              <td><%= customer.phone_number %></td>
              <td><%= customer.fax_number %></td>
              <td><%= customer.stores.count %></td>
            </tr>
          <% end %>
        <% end %>
      </table>
    </div>
  </div>
</div>
